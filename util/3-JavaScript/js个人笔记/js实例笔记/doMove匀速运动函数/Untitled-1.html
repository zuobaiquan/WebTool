<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
.div1{width:100px;height:100px;position:absolute;top:50px;left:50px;background:red;}
body{width:1000px;height:1000px;border:1px solid blue;}
</style>
</head>

<body>
<div class="div1" id="div2">
</div>
</body>
<script language="javascript">
var oDiv=document.getElementById('div2');
function getStyle(obj,attr){
   return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];	
}
function doMove(obj,attr,dir,target){
	dir=parseInt(getStyle(obj,attr))<target?dir:-dir;
	
	
	clearInterval(obj.timer);

	obj.timer=setInterval(function (){
		var speed=parseInt(getStyle(obj,attr))+dir;
		
		if(dir>0&&speed>target||dir<0&&speed<target){
			speed=target;
			//clearInterval(timer);
			
			}
		obj.style[attr]=speed+'px';
		
		if(speed==target){
			clearInterval(obj.timer);
		}
		
		},30);
	
	}
	
	doMove(oDiv,'left',10,500);
</script>
</html>
